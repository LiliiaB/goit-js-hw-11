{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { searchImages } from 'pixabay-api';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formEl = document.querySelector('form');\nconst btnEl = document.querySelector('button');\nconst inputEl = document.querySelector('input');\nconst listEl = document.querySelector('ul');\n\nformEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  listEl.innerHTML = '';\n  const searchedItem = inputEl.value;\n\n  const API_KEY = '42152818-0d69fd49112a74751654c42bc';\n\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchedItem}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          position: 'bottomCenter',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"list-item\"><a href=\"${data.webformatURL}\">\n          <img class=\"item-img\" src=\"${data.webformatURL}\" alt=\"${data.tags}\" width=\"360\" height=\"200\"></a><p><b>Likes: </b>${data.likes}</p><p><b>Views: </b>${data.views}</p><p><b>Comments: </b>${data.comments}</p><p><b>Downloads: </b>${data.downloads}</p>\n          </li>`;\n          })\n          .join('');\n\n        listEl.insertAdjacentHTML('beforeend', markup);\n\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionSelector: 'img',\n          captionPosition: 'bottom',\n        });\n        lightbox.on('show.simplelightbox');\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n});\n"],"names":["formEl","inputEl","listEl","evt","searchedItem","response","data","iziToast","markup","lightbox","SimpleLightbox","error"],"mappings":"6vBAOA,MAAMA,EAAS,SAAS,cAAc,MAAM,EAC9B,SAAS,cAAc,QAAQ,EAC7C,MAAMC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAS,SAAS,cAAc,IAAI,EAE1CF,EAAO,iBAAiB,SAAUG,GAAO,CACvCA,EAAI,eAAc,EAClBD,EAAO,UAAY,GACnB,MAAME,EAAeH,EAAQ,MAI7B,MACE,qEAA6CG,CAAY,0DAC1D,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,SAAU,eACV,QACE,0EACZ,CAAS,MACI,CACL,MAAMC,EAASF,EAAK,KACjB,IAAIA,GACI,kCAAkCA,EAAK,YAAY;AAAA,uCAC/BA,EAAK,YAAY,UAAUA,EAAK,IAAI,mDAAmDA,EAAK,KAAK,wBAAwBA,EAAK,KAAK,2BAA2BA,EAAK,QAAQ,4BAA4BA,EAAK,SAAS;AAAA,gBAEjP,EACA,KAAK,EAAE,EAEVJ,EAAO,mBAAmB,YAAaM,CAAM,EAE7C,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,gBAAiB,QAC3B,CAAS,EACDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CACjB,CACP,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAAC"}