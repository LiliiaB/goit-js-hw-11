{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { searchImages } from 'pixabay-api';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formEl = document.querySelector('form');\nconst btnEl = document.querySelector('button');\nconst inputEl = document.querySelector('input');\nconst listEl = document.querySelector('ul');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  listEl.innerHTML = '';\n  showLoader();\n  const searchedItem = inputEl.value;\n\n  const API_KEY = '42152818-0d69fd49112a74751654c42bc';\n\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchedItem}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          position: 'bottomCenter',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"list-item\"><a href=\"${data.largeImageURL}\">\n          <img class=\"item-img\" src=\"${data.webformatURL}\" alt=\"${data.tags}\" ></a><div class=\"container\"><p><b>Likes: </b><br>${data.likes}</p><p><b>Views: </b><br>${data.views}</p><p><b>Comments: </b><br>${data.comments}</p><p><b>Downloads: </b><br>${data.downloads}</p>\n          </li></div>`;\n          })\n          .join('');\n\n        listEl.insertAdjacentHTML('beforeend', markup);\n\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionSelector: 'img',\n          captionPosition: 'bottom',\n          captionsData: 'alt',\n        });\n        lightbox.on('show.simplelightbox');\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\nfunction showLoader() {\n  loaderEl.style.display = 'flex';\n}\nfunction hideLoader() {\n  loaderEl.style.display = 'none';\n}\n"],"names":["formEl","inputEl","listEl","loaderEl","evt","showLoader","searchedItem","response","data","iziToast","markup","lightbox","SimpleLightbox","error","hideLoader"],"mappings":"6vBAOA,MAAMA,EAAS,SAAS,cAAc,MAAM,EAC9B,SAAS,cAAc,QAAQ,EAC7C,MAAMC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAS,SAAS,cAAc,IAAI,EACpCC,EAAW,SAAS,cAAc,SAAS,EAEjDH,EAAO,iBAAiB,SAAUI,GAAO,CACvCA,EAAI,eAAc,EAClBF,EAAO,UAAY,GACnBG,IACA,MAAMC,EAAeL,EAAQ,MAI7B,MACE,qEAA6CK,CAAY,0DAC1D,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,SAAU,eACV,QACE,0EACZ,CAAS,MACI,CACL,MAAMC,EAASF,EAAK,KACjB,IAAIA,GACI,kCAAkCA,EAAK,aAAa;AAAA,uCAChCA,EAAK,YAAY,UAAUA,EAAK,IAAI,sDAAsDA,EAAK,KAAK,4BAA4BA,EAAK,KAAK,+BAA+BA,EAAK,QAAQ,gCAAgCA,EAAK,SAAS;AAAA,sBAEhQ,EACA,KAAK,EAAE,EAEVN,EAAO,mBAAmB,YAAaQ,CAAM,EAE7C,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,gBAAiB,SACjB,aAAc,KACxB,CAAS,EACDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CACjB,CACP,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,CACL,CAAC,EAED,SAAST,GAAa,CACpBF,EAAS,MAAM,QAAU,MAC3B,CACA,SAASW,GAAa,CACpBX,EAAS,MAAM,QAAU,MAC3B"}